<template>
  <require from="./lib/number-format"></require>

  <!-- .chat {
  height: 42px;
  width: 130px;
  color: #FFFFFF;
  font-family: "Open Sans";
  font-size: 18px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 28px;
}-->
  <div style="border: 1px solid gray; margin-top: 10px; padding: 2px; background-color: rgba(0,0,0,0.5)">
    <div class="global-chatbox-header" style="background-color: #000000; border-radius: 4px 4px 0 0;">
      <span class="global-chat-header-icon"><span style="margin-left:10px">Chat </span></span>
      <!-- <button class="btn btn-primary btn-xs" click.delegate="showChat=!showChat" style="float: right;">${showChat ? 'Hide':'Show'}</button> -->
      <!-- <button class="btn btn-primary btn-xs" click.delegate="toggleOnline()" style="float: right;">Online Now</button> -->
    </div>
    
    
    <div id="global-chatbox-container" show.bind="showChat">
      <div id="global-chatbox" ref="globalChatboxElem" scrolltop.bind="globalChatboxElemScrollHeight" >
        <p repeat.for="chat of globalChatMessages" class="chatRow">
          <span class="" if.bind="chat.screenName===loggedInUser.screenName">You :</span>
          <span else> ${chat.screenName}:</span>
          <span class="">${chat.message}</span>
        </p>                 
      </div>
      <!-- <div id="global-online" show.bind="showUsers">
        <div repeat.for="user of users">
          <span class="f16" show.bind="user.countryCode"><span class="flag ${user.countryCode}" title.bind="user.country"> </span></span>    
          <i class="fa fa-user-circle" show.bind="!user.countryCode"></i> 
          <span>${user.screenName}<span show.bind="user.showYouLabel"> (You)</span> </span>   
        </div>
      </div> -->
      <div class="clear"></div>
    </div>
    
    <div show.bind="showChat" >
      
      <input type="text" placeholder="Enter chat message" class="form-control input-sm global-chat-input" keyup.delegate="globalChatKeyPress($event)" value.bind="globalChatInput"/>
    </div>

  </div>

  <div>
      
  </div>
</template>
